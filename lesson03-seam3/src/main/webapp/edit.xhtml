<?xml version="1.0" encoding="UTF-8"?>
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:s="http://jboss.org/seam/faces"
	template="/WEB-INF/templates/default.xhtml">
	
	<ui:define name="content">
	
		<p><h:messages/></p>
	
		<h:form>
			<h1><h:inputText value="#{bakery.name}"/></h1>
			<p><h:inputText value="#{bakery.address}"/></p>
			<h:dataTable value="#{bakery.cakes}" var="_cake">
			
				<h:column>
					<f:facet name="header">Name</f:facet>
                	<h:inputText value="#{_cake.name}"/>
            	</h:column>
            
	            <h:column>
            		<f:facet name="header">Price</f:facet>
                	<h:inputText value="#{_cake.price}"/>
            	</h:column>
            
	            <h:column>
            		<f:facet name="header">Ingredients</f:facet>
            		<h:dataTable value="#{_cake.ingredients}" var="_ingredient">
            		  <h:column>
	            		#{_ingredient}
	                   </h:column>
            		</h:dataTable>
            	</h:column>
            	
            	<h:column>
            	   <h:commandButton action="editcake" value="Edit Cake">
            	       <f:setPropertyActionListener target="#{currentCakeProducer.cake}" value="#{_cake}"/>
            	   </h:commandButton>
            	</h:column>
			</h:dataTable>
			
			<h:commandButton action="#{bakeryAction.save}" value="Done"/> 
		</h:form>
	</ui:define>
</ui:composition>
